╔════════════════════════════════════════════════════════════════════╗
║                                                                    ║
║          🔍 RAILWAY TOKEN TROUBLESHOOTING GUIDE                    ║
║                                                                    ║
╚════════════════════════════════════════════════════════════════════╝

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 1: Verify You're on the Correct Page
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ CORRECT PAGE: Account-Level Tokens
URL: https://railway.app/account/tokens
Path: Click your profile (top left) → Account Settings → Tokens tab

What you should see:
- "Tokens" heading at the top
- "New Token" button or dialog
- "API Tokens" section below
- Text: "API tokens allow you to programmatically access your Railway account"

❌ WRONG PAGE: Project Settings
URL: https://railway.app/project/YOUR_PROJECT_ID/settings
This shows project IDs, NOT API tokens!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 2: Create Token (Correct Method)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. On the Tokens page, click "Create Token" button

2. A dialog will appear: "New Token"
   - Text: "We will only show this token once"
   - A code box with the FULL token visible
   
3. The token format should be:
   ✅ rlwy_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   
   Example real format:
   rlwy_abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
   
   (Length: 40-50 characters after "rlwy_")

4. Copy the ENTIRE token from the code box

5. Click "Got it" button AFTER copying

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 3: What You're Probably Seeing (and Why It's Wrong)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ If you see: 8e8da953-5bd2-436e-a25e-d57aa1943d46
   Problem: This is a PROJECT ID, not an API token
   Fix: You're looking at project settings. Go to Account Settings instead.

❌ If you see: ****-3d46 (partially hidden)
   Problem: Token was already created and is now masked for security
   Fix: You can't reveal it again. Delete it and create a new one.

❌ If you see: A short UUID format
   Problem: Not the right type of token
   Fix: Make sure you're on railway.app/account/tokens (not project settings)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 4: Alternative - Use Railway CLI Login Instead
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

If you're having trouble with API tokens, there's another approach:

Option: Use Railway CLI with Browser Login
─────────────────────────────────────────────────────────────────────

# Login via browser (easier, no token needed)
railway login

# This will:
# 1. Open browser for authentication
# 2. Create session token automatically
# 3. Store it in ~/.railway/config.json

# Then check the config:
cat ~/.railway/config.json

# Look for "token": "rlwy_XXXXXXXXXX"
# You can use THIS token for GitHub Actions!

This is actually EASIER than creating tokens manually!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 5: Check Railway CLI Installation
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Check if Railway CLI is installed
railway --version

# If not installed, install it:
npm install -g @railway/cli

# Or via Homebrew (macOS):
brew install railway

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 6: Extract Token from CLI (Recommended!)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

This is probably the EASIEST way to get a valid Railway token:

# 1. Login via CLI
railway login

# 2. Extract the token
cat ~/.railway/config.json | grep token

# You'll see something like:
# "token": "rlwy_abc123def456..."

# 3. Copy just the token value (without quotes)
# 4. Use it as RAILWAY_TOKEN in GitHub secrets

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
TROUBLESHOOTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Issue: "Token doesn't start with rlwy_"
────────────────────────────────────────────────────────────────────
Possible causes:
1. You're looking at a project ID (wrong page)
2. You're looking at a service ID (wrong page)
3. Railway changed their token format (unlikely)
4. You're on an old Railway version (check for updates)

Solution:
→ Try the CLI method above (railway login)
→ This is the most reliable way!

Issue: "I already clicked 'Got it' without copying"
────────────────────────────────────────────────────────────────────
Solution:
→ Delete the old token (trash icon)
→ Create a new token
→ THIS TIME, copy it before clicking "Got it"

Issue: "CLI not installed"
────────────────────────────────────────────────────────────────────
Solution:
→ npm install -g @railway/cli
→ Or: brew install railway (macOS)
→ Then: railway login

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
NEXT STEPS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Choose ONE method:

Method A: Dashboard Token (if you can see rlwy_ format)
  → Go to railway.app/account/tokens
  → Create token
  → Copy rlwy_XXXXXXXXXX
  → Use in GitHub secrets

Method B: CLI Token (RECOMMENDED - easier!)
  → Run: railway login
  → Run: cat ~/.railway/config.json | grep token
  → Copy the rlwy_XXXXXXXXXX value
  → Use in GitHub secrets

═══════════════════════════════════════════════════════════════════════

TRY METHOD B FIRST - It's the easiest and most reliable way!

